{"version":3,"sources":["../src/index.ts","../src/lib/branding.ts","../src/commands/auth.ts","../src/lib/errors.ts","../src/lib/config-manager.ts","../src/lib/api-client.ts","../src/lib/output.ts","../src/lib/spinner.ts","../src/commands/health.ts","../src/commands/config.ts","../src/commands/compute.ts","../src/commands/deploy.ts","../src/lib/prompts.ts","../src/commands/instances.ts","../src/commands/ssh-keys.ts","../src/commands/ai.ts","../src/lib/streaming.ts","../src/commands/db.ts","../src/commands/storage.ts","../src/commands/billing.ts"],"sourcesContent":["import { Command } from \"commander\";\r\nimport { printBanner } from \"./lib/branding.js\";\r\nimport { registerAuthCommand } from \"./commands/auth.js\";\r\nimport { registerHealthCommand } from \"./commands/health.js\";\r\nimport { registerConfigCommand } from \"./commands/config.js\";\r\nimport { registerComputeCommand } from \"./commands/compute.js\";\r\nimport { registerDeployCommand } from \"./commands/deploy.js\";\r\nimport { registerInstancesCommand } from \"./commands/instances.js\";\r\nimport { registerSshKeysCommand } from \"./commands/ssh-keys.js\";\r\nimport { registerAiCommand } from \"./commands/ai.js\";\r\nimport { registerDbCommand } from \"./commands/db.js\";\r\nimport { registerStorageCommand } from \"./commands/storage.js\";\r\nimport { registerBillingCommand } from \"./commands/billing.js\";\r\n\r\nconst program = new Command();\r\n\r\nprogram\r\n  .name(\"polaris\")\r\n  .description(\"Polaris Cloud CLI — GPU compute at your fingertips\")\r\n  .version(\"0.1.0\", \"-v, --version\")\r\n  .option(\"-j, --json\", \"Output raw JSON (for scripting)\")\r\n  .option(\"--no-color\", \"Disable colored output\")\r\n  .option(\"--api-url <url>\", \"Override API endpoint\")\r\n  .hook(\"preAction\", () => {\r\n    if (program.opts().noColor) {\r\n      process.env.NO_COLOR = \"1\";\r\n    }\r\n  });\r\n\r\n// Register all commands\r\nregisterAuthCommand(program);\r\nregisterHealthCommand(program);\r\nregisterConfigCommand(program);\r\nregisterComputeCommand(program);\r\nregisterDeployCommand(program);\r\nregisterInstancesCommand(program);\r\nregisterSshKeysCommand(program);\r\nregisterAiCommand(program);\r\nregisterDbCommand(program);\r\nregisterStorageCommand(program);\r\nregisterBillingCommand(program);\r\n\r\n// Default action (no subcommand) — print banner + help\r\nprogram.action(() => {\r\n  printBanner();\r\n  program.outputHelp();\r\n});\r\n\r\nprogram.parseAsync(process.argv).catch((err) => {\r\n  console.error(err);\r\n  process.exit(1);\r\n});\r\n","import chalk from \"chalk\";\r\n\r\nexport const POLARIS_ASCII = `\r\n  ____       _            _\r\n |  _ \\\\ ___ | | __ _ _ __(_)___\r\n | |_) / _ \\\\| |/ _\\` | '__| / __|\r\n |  __/ (_) | | (_| | |  | \\\\__ \\\\\r\n |_|   \\\\___/|_|\\\\__,_|_|  |_|___/\r\n`;\r\n\r\nexport function printBanner() {\r\n  console.log(chalk.hex(\"#2D5A47\")(POLARIS_ASCII));\r\n  console.log(\r\n    chalk.dim(\"  Polaris Cloud CLI — GPU compute at your fingertips\\n\"),\r\n  );\r\n}\r\n\r\nexport function printVersion(version: string) {\r\n  console.log(`Polaris CLI v${version}`);\r\n}\r\n","import { Command } from \"commander\";\r\nimport { password } from \"@inquirer/prompts\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport { getApiKey, saveApiKey, removeCredentials } from \"../lib/config-manager.js\";\r\nimport { printSuccess, printError, printKeyValue, printJson } from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\n\r\nexport function registerAuthCommand(program: Command) {\r\n  const auth = program.command(\"auth\").description(\"Manage authentication\");\r\n\r\n  auth\r\n    .command(\"login\")\r\n    .description(\"Authenticate with your API key\")\r\n    .option(\"--key <key>\", \"API key (or enter interactively)\")\r\n    .action(async (opts) => {\r\n      const json = program.opts().json;\r\n\r\n      let apiKey = opts.key;\r\n      if (!apiKey) {\r\n        console.log(\r\n          chalk.dim(\"Get your API key from the dashboard: \") +\r\n            chalk.underline(\"https://polaris.computer/dashboard/api-keys\"),\r\n        );\r\n        console.log();\r\n        apiKey = await password({\r\n          message: \"Enter your API key:\",\r\n          mask: \"*\",\r\n        });\r\n      }\r\n\r\n      if (!apiKey || !apiKey.trim()) {\r\n        printError(\"No API key provided.\");\r\n        process.exit(1);\r\n      }\r\n\r\n      apiKey = apiKey.trim();\r\n\r\n      const spinner = createSpinner(\"Validating API key...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = new PolarisClient(undefined, apiKey);\r\n        const user = await client.me();\r\n        spinner.stop();\r\n\r\n        saveApiKey(apiKey);\r\n\r\n        if (json) {\r\n          printJson({ success: true, user });\r\n        } else {\r\n          printSuccess(\"Authenticated successfully!\");\r\n          console.log();\r\n          printKeyValue({\r\n            Email: user.email,\r\n            Name: user.name || \"—\",\r\n            Tier: user.tier,\r\n          });\r\n        }\r\n      } catch (err) {\r\n        spinner.stop();\r\n        if (err instanceof PolarisApiError && err.statusCode === 401) {\r\n          printError(\"Invalid API key. Please check and try again.\");\r\n        } else if (err instanceof PolarisApiError && err.statusCode === 0) {\r\n          // Connection failed — key might still be valid, save it\r\n          saveApiKey(apiKey);\r\n          printSuccess(\"API key saved (could not verify — API unreachable).\");\r\n        } else {\r\n          printError(\r\n            err instanceof PolarisApiError\r\n              ? err.toUserMessage()\r\n              : String(err),\r\n          );\r\n        }\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  auth\r\n    .command(\"logout\")\r\n    .description(\"Remove stored credentials\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n      removeCredentials();\r\n      if (json) {\r\n        printJson({ success: true });\r\n      } else {\r\n        printSuccess(\"Logged out. Credentials removed.\");\r\n      }\r\n    });\r\n\r\n  auth\r\n    .command(\"status\")\r\n    .description(\"Show current authentication status\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n      const apiKey = getApiKey();\r\n\r\n      if (!apiKey) {\r\n        if (json) {\r\n          printJson({ authenticated: false });\r\n        } else {\r\n          printError(\"Not authenticated. Run `polaris auth login` to sign in.\");\r\n        }\r\n        return;\r\n      }\r\n\r\n      const spinner = createSpinner(\"Checking authentication...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const user = await client.me();\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson({ authenticated: true, user });\r\n        } else {\r\n          printSuccess(\"Authenticated\");\r\n          console.log();\r\n          printKeyValue({\r\n            Email: user.email,\r\n            Name: user.name || \"—\",\r\n            Tier: user.tier,\r\n            \"API Key\": apiKey.slice(0, 12) + \"...\" + apiKey.slice(-4),\r\n          });\r\n        }\r\n      } catch (err) {\r\n        spinner.stop();\r\n        if (json) {\r\n          printJson({ authenticated: false, error: String(err) });\r\n        } else {\r\n          printError(\r\n            err instanceof PolarisApiError\r\n              ? err.toUserMessage()\r\n              : `Auth check failed: ${err}`,\r\n          );\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\n// Inline class reference for login (avoids circular import)\r\nimport { PolarisClient } from \"../lib/api-client.js\";\r\n","export class PolarisApiError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public statusCode: number,\r\n    public detail?: string,\r\n  ) {\r\n    super(message);\r\n    this.name = \"PolarisApiError\";\r\n  }\r\n\r\n  toUserMessage(): string {\r\n    switch (this.statusCode) {\r\n      case 401:\r\n        return \"Not authenticated. Run `polaris auth login` to set your API key.\";\r\n      case 403:\r\n        return \"Permission denied. Your API key may not have access to this resource.\";\r\n      case 404:\r\n        return this.detail || \"Resource not found.\";\r\n      case 429:\r\n        return \"Rate limit exceeded. Please wait and try again.\";\r\n      case 500:\r\n        return \"Server error. The Polaris API may be experiencing issues.\";\r\n      default:\r\n        return this.detail || this.message;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ConfigError extends Error {\r\n  constructor(message: string) {\r\n    super(message);\r\n    this.name = \"ConfigError\";\r\n  }\r\n}\r\n\r\nexport class AuthError extends Error {\r\n  constructor(message: string) {\r\n    super(message);\r\n    this.name = \"AuthError\";\r\n  }\r\n}\r\n","import * as fs from \"node:fs\";\r\nimport * as path from \"node:path\";\r\nimport * as os from \"node:os\";\r\nimport type { PolarisConfig } from \"./types.js\";\r\n\r\nconst POLARIS_DIR = path.join(os.homedir(), \".polaris\");\r\nconst CONFIG_FILE = path.join(POLARIS_DIR, \"config.json\");\r\nconst CREDENTIALS_FILE = path.join(POLARIS_DIR, \"credentials\");\r\n\r\nconst DEFAULT_CONFIG: PolarisConfig = {\r\n  apiUrl: \"https://api.polaris.computer\",\r\n  defaultFormat: \"table\",\r\n  noColor: false,\r\n};\r\n\r\nfunction ensureDir() {\r\n  if (!fs.existsSync(POLARIS_DIR)) {\r\n    fs.mkdirSync(POLARIS_DIR, { recursive: true, mode: 0o700 });\r\n  }\r\n}\r\n\r\n// --- Config ---\r\n\r\nexport function loadConfig(): PolarisConfig {\r\n  ensureDir();\r\n  if (!fs.existsSync(CONFIG_FILE)) {\r\n    return { ...DEFAULT_CONFIG };\r\n  }\r\n  try {\r\n    const raw = fs.readFileSync(CONFIG_FILE, \"utf-8\");\r\n    return { ...DEFAULT_CONFIG, ...JSON.parse(raw) };\r\n  } catch {\r\n    return { ...DEFAULT_CONFIG };\r\n  }\r\n}\r\n\r\nexport function saveConfig(config: PolarisConfig) {\r\n  ensureDir();\r\n  fs.writeFileSync(CONFIG_FILE, JSON.stringify(config, null, 2), {\r\n    mode: 0o600,\r\n  });\r\n}\r\n\r\nexport function getConfigValue(key: string): string | undefined {\r\n  const config: Record<string, unknown> = { ...loadConfig() };\r\n  const val = config[key];\r\n  return val !== undefined ? String(val) : undefined;\r\n}\r\n\r\nexport function setConfigValue(key: string, value: string) {\r\n  const config: Record<string, unknown> = { ...loadConfig() };\r\n  // Coerce booleans\r\n  if (value === \"true\") config[key] = true;\r\n  else if (value === \"false\") config[key] = false;\r\n  else config[key] = value;\r\n  saveConfig(config as unknown as PolarisConfig);\r\n}\r\n\r\nexport function resetConfig() {\r\n  saveConfig({ ...DEFAULT_CONFIG });\r\n}\r\n\r\n// --- Credentials ---\r\n\r\nexport function getApiKey(): string | null {\r\n  ensureDir();\r\n  if (!fs.existsSync(CREDENTIALS_FILE)) {\r\n    return null;\r\n  }\r\n  try {\r\n    const content = fs.readFileSync(CREDENTIALS_FILE, \"utf-8\").trim();\r\n    // Format: api_key=<key>\r\n    for (const line of content.split(\"\\n\")) {\r\n      const trimmed = line.trim();\r\n      if (trimmed.startsWith(\"api_key=\")) {\r\n        return trimmed.slice(\"api_key=\".length);\r\n      }\r\n    }\r\n    return null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function saveApiKey(apiKey: string) {\r\n  ensureDir();\r\n  fs.writeFileSync(CREDENTIALS_FILE, `api_key=${apiKey}\\n`, { mode: 0o600 });\r\n}\r\n\r\nexport function removeCredentials() {\r\n  if (fs.existsSync(CREDENTIALS_FILE)) {\r\n    fs.unlinkSync(CREDENTIALS_FILE);\r\n  }\r\n}\r\n\r\nexport function getApiUrl(): string {\r\n  return loadConfig().apiUrl;\r\n}\r\n","import { PolarisApiError } from \"./errors.js\";\r\nimport { getApiKey, getApiUrl } from \"./config-manager.js\";\r\nimport type {\r\n  HealthResponse,\r\n  UserResponse,\r\n  Template,\r\n  Deployment,\r\n  ApiKey,\r\n  UsageAnalytics,\r\n  DashboardStats,\r\n  StorageVolume,\r\n} from \"./types.js\";\r\n\r\nexport class PolarisClient {\r\n  private baseUrl: string;\r\n  private apiKey: string | null;\r\n\r\n  constructor(baseUrl?: string, apiKey?: string) {\r\n    this.baseUrl = (baseUrl || getApiUrl()).replace(/\\/$/, \"\");\r\n    this.apiKey = apiKey || getApiKey();\r\n  }\r\n\r\n  private async request<T>(\r\n    method: string,\r\n    path: string,\r\n    body?: unknown,\r\n    requireAuth = true,\r\n  ): Promise<T> {\r\n    if (requireAuth && !this.apiKey) {\r\n      throw new PolarisApiError(\r\n        \"Not authenticated\",\r\n        401,\r\n        \"No API key found. Run `polaris auth login` to authenticate.\",\r\n      );\r\n    }\r\n\r\n    const headers: Record<string, string> = {\r\n      \"Content-Type\": \"application/json\",\r\n      \"User-Agent\": \"polaris-cli/0.1.0\",\r\n    };\r\n\r\n    if (this.apiKey) {\r\n      headers[\"Authorization\"] = `Bearer ${this.apiKey}`;\r\n    }\r\n\r\n    const url = `${this.baseUrl}${path}`;\r\n\r\n    let res: Response;\r\n    try {\r\n      res = await fetch(url, {\r\n        method,\r\n        headers,\r\n        body: body ? JSON.stringify(body) : undefined,\r\n      });\r\n    } catch (err: any) {\r\n      throw new PolarisApiError(\r\n        \"Connection failed\",\r\n        0,\r\n        `Could not connect to ${this.baseUrl}. Is the API running?`,\r\n      );\r\n    }\r\n\r\n    if (!res.ok) {\r\n      let detail: string | undefined;\r\n      try {\r\n        const errBody = await res.json();\r\n        detail = errBody.detail || errBody.message;\r\n      } catch {}\r\n      throw new PolarisApiError(\r\n        `HTTP ${res.status}`,\r\n        res.status,\r\n        detail,\r\n      );\r\n    }\r\n\r\n    return res.json() as Promise<T>;\r\n  }\r\n\r\n  // Health\r\n  async health(): Promise<HealthResponse> {\r\n    return this.request(\"GET\", \"/health\", undefined, false);\r\n  }\r\n\r\n  // Auth\r\n  async me(): Promise<UserResponse> {\r\n    return this.request(\"GET\", \"/api/auth/me\");\r\n  }\r\n\r\n  // Templates\r\n  async listTemplates(): Promise<Record<string, Template>> {\r\n    return this.request(\"GET\", \"/api/templates\", undefined, false);\r\n  }\r\n\r\n  async getTemplate(id: string): Promise<Template> {\r\n    return this.request(\"GET\", `/api/templates/${id}`, undefined, false);\r\n  }\r\n\r\n  // Deployments\r\n  async listDeployments(): Promise<{ deployments: Deployment[] }> {\r\n    return this.request(\"GET\", \"/api/user/deployments\");\r\n  }\r\n\r\n  async getDeployment(id: string): Promise<Deployment> {\r\n    return this.request(\"GET\", `/api/templates/deployments/${id}`);\r\n  }\r\n\r\n  async createDeployment(data: {\r\n    template_id: string;\r\n    name: string;\r\n    parameters: Record<string, any>;\r\n  }): Promise<any> {\r\n    return this.request(\"POST\", \"/api/user/deployments\", data);\r\n  }\r\n\r\n  async deleteDeployment(id: string): Promise<any> {\r\n    return this.request(\"DELETE\", `/api/user/deployments/${id}`);\r\n  }\r\n\r\n  // API Keys\r\n  async listApiKeys(): Promise<{ keys: ApiKey[] }> {\r\n    return this.request(\"GET\", \"/api/keys\");\r\n  }\r\n\r\n  async generateApiKey(name: string, description?: string): Promise<{ success: boolean; key: ApiKey }> {\r\n    return this.request(\"POST\", \"/api/keys/generate\", { name, description });\r\n  }\r\n\r\n  async revokeApiKey(id: string): Promise<any> {\r\n    return this.request(\"DELETE\", `/api/keys/${id}`);\r\n  }\r\n\r\n  // Usage\r\n  async getUsage(): Promise<UsageAnalytics> {\r\n    return this.request(\"GET\", \"/api/usage\");\r\n  }\r\n\r\n  // Dashboard stats\r\n  async getStats(): Promise<DashboardStats> {\r\n    return this.request(\"GET\", \"/api/stats\");\r\n  }\r\n\r\n  // Storage\r\n  async getUserStorage(): Promise<any> {\r\n    return this.request(\"GET\", \"/api/user/storage\");\r\n  }\r\n\r\n  // Raw request for streaming (AI chat)\r\n  async rawFetch(\r\n    method: string,\r\n    path: string,\r\n    body?: unknown,\r\n  ): Promise<Response> {\r\n    const headers: Record<string, string> = {\r\n      \"Content-Type\": \"application/json\",\r\n      \"User-Agent\": \"polaris-cli/0.1.0\",\r\n    };\r\n    if (this.apiKey) {\r\n      headers[\"Authorization\"] = `Bearer ${this.apiKey}`;\r\n    }\r\n    return fetch(`${this.baseUrl}${path}`, {\r\n      method,\r\n      headers,\r\n      body: body ? JSON.stringify(body) : undefined,\r\n    });\r\n  }\r\n}\r\n\r\nexport function createClient(apiUrl?: string): PolarisClient {\r\n  return new PolarisClient(apiUrl);\r\n}\r\n","import chalk from \"chalk\";\r\nimport Table from \"cli-table3\";\r\n\r\nconst forest = chalk.hex(\"#2D5A47\");\r\nconst fern = chalk.hex(\"#4A7C59\");\r\nconst copper = chalk.hex(\"#B87333\");\r\n\r\nexport function printSuccess(message: string) {\r\n  console.log(fern(\"✓\") + \" \" + message);\r\n}\r\n\r\nexport function printError(message: string) {\r\n  console.error(chalk.red(\"✗\") + \" \" + message);\r\n}\r\n\r\nexport function printWarning(message: string) {\r\n  console.log(copper(\"!\") + \" \" + message);\r\n}\r\n\r\nexport function printInfo(message: string) {\r\n  console.log(chalk.dim(\"→\") + \" \" + message);\r\n}\r\n\r\nexport function printKeyValue(pairs: Record<string, string | number | null | undefined>) {\r\n  const maxKeyLen = Math.max(...Object.keys(pairs).map((k) => k.length));\r\n  for (const [key, value] of Object.entries(pairs)) {\r\n    const paddedKey = key.padEnd(maxKeyLen);\r\n    console.log(`  ${chalk.dim(paddedKey)}  ${value ?? chalk.dim(\"—\")}`);\r\n  }\r\n}\r\n\r\nexport function printTable(\r\n  headers: string[],\r\n  rows: (string | number)[][],\r\n) {\r\n  const table = new Table({\r\n    head: headers.map((h) => forest(h)),\r\n    style: { head: [], border: [\"dim\"] },\r\n    chars: {\r\n      top: \"─\",\r\n      \"top-mid\": \"┬\",\r\n      \"top-left\": \"┌\",\r\n      \"top-right\": \"┐\",\r\n      bottom: \"─\",\r\n      \"bottom-mid\": \"┴\",\r\n      \"bottom-left\": \"└\",\r\n      \"bottom-right\": \"┘\",\r\n      left: \"│\",\r\n      \"left-mid\": \"├\",\r\n      mid: \"─\",\r\n      \"mid-mid\": \"┼\",\r\n      right: \"│\",\r\n      \"right-mid\": \"┤\",\r\n      middle: \"│\",\r\n    },\r\n  });\r\n\r\n  for (const row of rows) {\r\n    table.push(row.map(String));\r\n  }\r\n\r\n  console.log(table.toString());\r\n}\r\n\r\nexport function printJson(data: unknown) {\r\n  console.log(JSON.stringify(data, null, 2));\r\n}\r\n","import ora, { type Ora } from \"ora\";\r\n\r\nexport function createSpinner(text: string): Ora {\r\n  return ora({ text, color: \"green\" });\r\n}\r\n","import { Command } from \"commander\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport { printSuccess, printError, printKeyValue, printJson } from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\n\r\nexport function registerHealthCommand(program: Command) {\r\n  program\r\n    .command(\"health\")\r\n    .description(\"Check Polaris Cloud API status\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Checking API status...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const health = await client.health();\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(health);\r\n        } else {\r\n          const statusIcon =\r\n            health.status === \"healthy\"\r\n              ? chalk.green(\"●\")\r\n              : chalk.red(\"●\");\r\n\r\n          console.log(`${statusIcon} ${health.service} v${health.version}`);\r\n          console.log();\r\n          printKeyValue({\r\n            Status: health.status,\r\n            Database: health.database,\r\n            \"Demo Mode\": health.demo_mode ? \"yes\" : \"no\",\r\n            Auth: health.auth_enabled ? \"enabled\" : \"disabled\",\r\n          });\r\n        }\r\n      } catch (err) {\r\n        spinner.stop();\r\n        if (json) {\r\n          printJson({\r\n            status: \"unreachable\",\r\n            error: err instanceof PolarisApiError ? err.detail : String(err),\r\n          });\r\n        } else {\r\n          printError(\r\n            err instanceof PolarisApiError\r\n              ? err.toUserMessage()\r\n              : `Could not reach API: ${err}`,\r\n          );\r\n        }\r\n        process.exit(1);\r\n      }\r\n    });\r\n}\r\n","import { Command } from \"commander\";\r\nimport {\r\n  loadConfig,\r\n  getConfigValue,\r\n  setConfigValue,\r\n  resetConfig,\r\n} from \"../lib/config-manager.js\";\r\nimport { printSuccess, printError, printKeyValue, printJson } from \"../lib/output.js\";\r\n\r\nexport function registerConfigCommand(program: Command) {\r\n  const config = program.command(\"config\").description(\"Manage CLI configuration\");\r\n\r\n  config\r\n    .command(\"get <key>\")\r\n    .description(\"Get a config value\")\r\n    .action((key) => {\r\n      const json = program.opts().json;\r\n      const value = getConfigValue(key);\r\n      if (value === undefined) {\r\n        if (json) {\r\n          printJson({ key, value: null });\r\n        } else {\r\n          printError(`Unknown config key: ${key}`);\r\n        }\r\n        return;\r\n      }\r\n      if (json) {\r\n        printJson({ key, value });\r\n      } else {\r\n        console.log(value);\r\n      }\r\n    });\r\n\r\n  config\r\n    .command(\"set <key> <value>\")\r\n    .description(\"Set a config value\")\r\n    .action((key, value) => {\r\n      const json = program.opts().json;\r\n      setConfigValue(key, value);\r\n      if (json) {\r\n        printJson({ success: true, key, value });\r\n      } else {\r\n        printSuccess(`Set ${key} = ${value}`);\r\n      }\r\n    });\r\n\r\n  config\r\n    .command(\"list\")\r\n    .description(\"Show all config values\")\r\n    .action(() => {\r\n      const json = program.opts().json;\r\n      const cfg = loadConfig();\r\n      if (json) {\r\n        printJson(cfg);\r\n      } else {\r\n        printKeyValue(cfg as unknown as Record<string, string>);\r\n      }\r\n    });\r\n\r\n  config\r\n    .command(\"reset\")\r\n    .description(\"Reset config to defaults\")\r\n    .action(() => {\r\n      const json = program.opts().json;\r\n      resetConfig();\r\n      if (json) {\r\n        printJson({ success: true });\r\n      } else {\r\n        printSuccess(\"Config reset to defaults.\");\r\n      }\r\n    });\r\n}\r\n","import { Command } from \"commander\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport {\r\n  printTable,\r\n  printJson,\r\n  printKeyValue,\r\n  printError,\r\n} from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\n\r\nexport function registerComputeCommand(program: Command) {\r\n  const compute = program\r\n    .command(\"compute\")\r\n    .description(\"Browse available compute resources and templates\");\r\n\r\n  compute\r\n    .command(\"templates\")\r\n    .description(\"List available deployment templates\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Fetching templates...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const templates = await client.listTemplates();\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(templates);\r\n          return;\r\n        }\r\n\r\n        const rows = Object.values(templates).map((t) => [\r\n          t.icon + \" \" + t.id,\r\n          t.name,\r\n          t.category,\r\n          t.estimated_deploy_time,\r\n          t.access_type,\r\n        ]);\r\n\r\n        printTable(\r\n          [\"ID\", \"Name\", \"Category\", \"Deploy Time\", \"Access\"],\r\n          rows,\r\n        );\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  compute\r\n    .command(\"get <templateId>\")\r\n    .description(\"Show template details\")\r\n    .action(async (templateId) => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Fetching template...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const template = await client.getTemplate(templateId);\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(template);\r\n          return;\r\n        }\r\n\r\n        console.log(\r\n          `\\n${template.icon} ${chalk.bold(template.name)}\\n`,\r\n        );\r\n        printKeyValue({\r\n          ID: template.id,\r\n          Category: template.category,\r\n          \"Deploy Time\": template.estimated_deploy_time,\r\n          Access: template.access_type,\r\n          Port: String(template.default_port),\r\n        });\r\n        console.log(`\\n${chalk.dim(\"Description:\")} ${template.description}`);\r\n        console.log(\r\n          `\\n${chalk.dim(\"Features:\")}\\n${template.features.map((f) => `  • ${f}`).join(\"\\n\")}`,\r\n        );\r\n        if (template.parameters.length > 0) {\r\n          console.log(`\\n${chalk.dim(\"Parameters:\")}`);\r\n          for (const p of template.parameters) {\r\n            const req = p.required ? chalk.red(\"*\") : \"\";\r\n            const def = p.default !== undefined ? chalk.dim(` (default: ${p.default})`) : \"\";\r\n            console.log(`  ${p.name}${req} — ${p.label}${def}`);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  compute\r\n    .command(\"pricing\")\r\n    .description(\"Show GPU pricing reference\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n\r\n      const pricing = [\r\n        [\"RTX 3060\", \"12 GB\", \"$0.25/hr\", \"$150/mo\"],\r\n        [\"RTX 3080\", \"10 GB\", \"$0.45/hr\", \"$270/mo\"],\r\n        [\"RTX 3090\", \"24 GB\", \"$0.55/hr\", \"$330/mo\"],\r\n        [\"RTX 4070\", \"12 GB\", \"$0.40/hr\", \"$240/mo\"],\r\n        [\"RTX 4080\", \"16 GB\", \"$0.65/hr\", \"$390/mo\"],\r\n        [\"RTX 4090\", \"24 GB\", \"$0.85/hr\", \"$510/mo\"],\r\n        [\"A100 40GB\", \"40 GB\", \"$1.50/hr\", \"$900/mo\"],\r\n        [\"A100 80GB\", \"80 GB\", \"$2.00/hr\", \"$1200/mo\"],\r\n        [\"H100\", \"80 GB\", \"$3.50/hr\", \"$2100/mo\"],\r\n      ];\r\n\r\n      if (json) {\r\n        printJson(\r\n          pricing.map(([gpu, vram, hourly, monthly]) => ({\r\n            gpu,\r\n            vram,\r\n            hourly,\r\n            monthly,\r\n          })),\r\n        );\r\n        return;\r\n      }\r\n\r\n      printTable([\"GPU\", \"VRAM\", \"Hourly\", \"Monthly\"], pricing);\r\n      console.log(\r\n        chalk.dim(\"\\n  Prices are estimates. Actual pricing depends on availability.\\n\"),\r\n      );\r\n    });\r\n\r\n  compute\r\n    .command(\"regions\")\r\n    .description(\"List available regions\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n\r\n      const regions = [\r\n        [\"lagos\", \"Lagos, Nigeria\", \"●\", \"Verda\"],\r\n        [\"helsinki\", \"Helsinki, Finland\", \"●\", \"Hetzner\"],\r\n      ];\r\n\r\n      if (json) {\r\n        printJson(\r\n          regions.map(([id, name, status, provider]) => ({\r\n            id,\r\n            name,\r\n            status: \"available\",\r\n            provider,\r\n          })),\r\n        );\r\n        return;\r\n      }\r\n\r\n      printTable(\r\n        [\"Region\", \"Location\", \"Status\", \"Provider\"],\r\n        regions.map(([id, name, _status, provider]) => [\r\n          id,\r\n          name,\r\n          chalk.green(\"● available\"),\r\n          provider,\r\n        ]),\r\n      );\r\n    });\r\n}\r\n","import { Command } from \"commander\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport {\r\n  printSuccess,\r\n  printError,\r\n  printKeyValue,\r\n  printJson,\r\n  printInfo,\r\n} from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { select, input, confirm } from \"../lib/prompts.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\nimport type { Template } from \"../lib/types.js\";\r\n\r\nexport function registerDeployCommand(program: Command) {\r\n  program\r\n    .command(\"deploy\")\r\n    .description(\"Deploy a new instance (interactive or with flags)\")\r\n    .option(\"--template <id>\", \"Template ID (e.g., ollama, jupyter)\")\r\n    .option(\"--name <name>\", \"Deployment name\")\r\n    .option(\"--gpu <type>\", \"GPU type filter (for display only)\")\r\n    .option(\"--region <region>\", \"Region (for display only)\")\r\n    .option(\"-y, --yes\", \"Skip confirmation\")\r\n    .action(async (opts) => {\r\n      const json = program.opts().json;\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n\r\n        // Fetch available templates\r\n        const spinner = createSpinner(\"Loading templates...\");\r\n        spinner.start();\r\n        const templates = await client.listTemplates();\r\n        spinner.stop();\r\n\r\n        const templateList = Object.values(templates);\r\n\r\n        if (templateList.length === 0) {\r\n          printError(\"No templates available.\");\r\n          process.exit(1);\r\n        }\r\n\r\n        // Select template\r\n        let templateId = opts.template;\r\n        if (!templateId) {\r\n          templateId = await select({\r\n            message: \"Select a template to deploy:\",\r\n            choices: templateList.map((t: Template) => ({\r\n              name: `${t.icon} ${t.name} — ${t.description.slice(0, 60)}...`,\r\n              value: t.id,\r\n            })),\r\n          });\r\n        }\r\n\r\n        const template = templates[templateId];\r\n        if (!template) {\r\n          printError(`Template \"${templateId}\" not found.`);\r\n          process.exit(1);\r\n        }\r\n\r\n        // Get deployment name\r\n        let name = opts.name;\r\n        if (!name) {\r\n          name = await input({\r\n            message: \"Deployment name:\",\r\n            default: `${template.id}-${Date.now().toString(36).slice(-4)}`,\r\n            validate: (v) =>\r\n              /^[a-zA-Z0-9_-]+$/.test(v) || \"Only letters, numbers, hyphens, underscores\",\r\n          });\r\n        }\r\n\r\n        // Collect parameters\r\n        const params: Record<string, any> = {};\r\n        for (const param of template.parameters) {\r\n          if (param.options && param.options.length > 0) {\r\n            params[param.name] = await select({\r\n              message: `${param.label}:`,\r\n              choices: param.options.map((o) => ({\r\n                name: o.label,\r\n                value: o.value,\r\n              })),\r\n              default: param.default,\r\n            });\r\n          } else if (param.type === \"number\") {\r\n            const val = await input({\r\n              message: `${param.label}:`,\r\n              default: param.default !== undefined ? String(param.default) : undefined,\r\n            });\r\n            params[param.name] = parseInt(val, 10);\r\n          } else {\r\n            params[param.name] = await input({\r\n              message: `${param.label}:`,\r\n              default: param.default !== undefined ? String(param.default) : undefined,\r\n            });\r\n          }\r\n        }\r\n\r\n        // Confirmation\r\n        if (!opts.yes) {\r\n          console.log();\r\n          console.log(\r\n            chalk.bold(`  ${template.icon} Deploying ${template.name}`),\r\n          );\r\n          printKeyValue({\r\n            Template: template.id,\r\n            Name: name,\r\n            \"Deploy Time\": template.estimated_deploy_time,\r\n            Access: template.access_type,\r\n            ...Object.fromEntries(\r\n              Object.entries(params).map(([k, v]) => [k, String(v)]),\r\n            ),\r\n          });\r\n          console.log();\r\n\r\n          const ok = await confirm({\r\n            message: \"Deploy now?\",\r\n            default: true,\r\n          });\r\n          if (!ok) {\r\n            printInfo(\"Cancelled.\");\r\n            return;\r\n          }\r\n        }\r\n\r\n        // Deploy\r\n        const deploySpinner = createSpinner(\r\n          `Deploying ${template.name}...`,\r\n        );\r\n        deploySpinner.start();\r\n\r\n        const result = await client.createDeployment({\r\n          template_id: templateId,\r\n          name,\r\n          parameters: params,\r\n        });\r\n\r\n        deploySpinner.stop();\r\n\r\n        if (json) {\r\n          printJson(result);\r\n          return;\r\n        }\r\n\r\n        printSuccess(`Deployment created!`);\r\n        console.log();\r\n\r\n        if (result.deployment_id) {\r\n          printKeyValue({\r\n            \"Deployment ID\": result.deployment_id,\r\n            Status: result.status || \"pending\",\r\n          });\r\n        }\r\n\r\n        if (result.access_url) {\r\n          console.log();\r\n          printInfo(`Access URL: ${chalk.underline(result.access_url)}`);\r\n        }\r\n\r\n        console.log();\r\n        printInfo(\r\n          `Track progress: ${chalk.dim(\"polaris instances get \" + (result.deployment_id || name))}`,\r\n        );\r\n      } catch (err) {\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n}\r\n","import { select, input, confirm, password } from \"@inquirer/prompts\";\r\n\r\nexport { select, input, confirm, password };\r\n","import { Command } from \"commander\";\r\nimport { spawn } from \"node:child_process\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport {\r\n  printTable,\r\n  printJson,\r\n  printKeyValue,\r\n  printSuccess,\r\n  printError,\r\n  printInfo,\r\n} from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { confirm } from \"../lib/prompts.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\n\r\nconst STATUS_COLORS: Record<string, (s: string) => string> = {\r\n  running: chalk.green,\r\n  pending: chalk.yellow,\r\n  warming: chalk.yellow,\r\n  provisioning: chalk.yellow,\r\n  installing: chalk.cyan,\r\n  stopping: chalk.gray,\r\n  stopped: chalk.gray,\r\n  failed: chalk.red,\r\n};\r\n\r\nfunction colorStatus(status: string): string {\r\n  const colorFn = STATUS_COLORS[status] || chalk.white;\r\n  return colorFn(status);\r\n}\r\n\r\nexport function registerInstancesCommand(program: Command) {\r\n  const instances = program\r\n    .command(\"instances\")\r\n    .description(\"Manage your running deployments\");\r\n\r\n  instances\r\n    .command(\"list\")\r\n    .alias(\"ls\")\r\n    .description(\"List your deployments\")\r\n    .option(\"--status <status>\", \"Filter by status\")\r\n    .action(async (opts) => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Fetching deployments...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const data = await client.listDeployments();\r\n        spinner.stop();\r\n\r\n        let deployments = data.deployments || [];\r\n\r\n        if (opts.status) {\r\n          deployments = deployments.filter(\r\n            (d) => d.status === opts.status,\r\n          );\r\n        }\r\n\r\n        if (json) {\r\n          printJson(deployments);\r\n          return;\r\n        }\r\n\r\n        if (deployments.length === 0) {\r\n          printInfo(\"No deployments found.\");\r\n          printInfo(\"Deploy one with: polaris deploy\");\r\n          return;\r\n        }\r\n\r\n        printTable(\r\n          [\"ID\", \"Name\", \"Template\", \"Status\", \"Created\"],\r\n          deployments.map((d) => [\r\n            d.id.slice(0, 8),\r\n            d.name,\r\n            d.template_id,\r\n            colorStatus(d.status),\r\n            new Date(d.created_at).toLocaleDateString(),\r\n          ]),\r\n        );\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  instances\r\n    .command(\"get <id>\")\r\n    .description(\"Show deployment details\")\r\n    .action(async (id) => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Fetching deployment...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const d = await client.getDeployment(id);\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(d);\r\n          return;\r\n        }\r\n\r\n        console.log(`\\n${chalk.bold(d.name)}\\n`);\r\n        printKeyValue({\r\n          ID: d.id,\r\n          Template: d.template_id,\r\n          Status: colorStatus(d.status),\r\n          Provider: d.provider,\r\n          Host: d.host || \"—\",\r\n          Port: d.port ? String(d.port) : \"—\",\r\n          \"Access URL\": d.access_url || \"—\",\r\n          Created: new Date(d.created_at).toLocaleString(),\r\n          Started: d.started_at\r\n            ? new Date(d.started_at).toLocaleString()\r\n            : \"—\",\r\n        });\r\n\r\n        if (d.error_message) {\r\n          console.log(\r\n            `\\n${chalk.red(\"Error:\")} ${d.error_message}`,\r\n          );\r\n        }\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  instances\r\n    .command(\"terminate <id>\")\r\n    .alias(\"rm\")\r\n    .description(\"Terminate a deployment\")\r\n    .option(\"-y, --yes\", \"Skip confirmation\")\r\n    .action(async (id, opts) => {\r\n      const json = program.opts().json;\r\n\r\n      if (!opts.yes) {\r\n        const ok = await confirm({\r\n          message: `Terminate deployment ${id}?`,\r\n          default: false,\r\n        });\r\n        if (!ok) {\r\n          printInfo(\"Cancelled.\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      const spinner = createSpinner(\"Terminating...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const result = await client.deleteDeployment(id);\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(result);\r\n        } else {\r\n          printSuccess(`Deployment ${id} terminated.`);\r\n        }\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  // SSH command (top-level alias)\r\n  program\r\n    .command(\"ssh <id>\")\r\n    .description(\"SSH into a running deployment\")\r\n    .action(async (id) => {\r\n      const spinner = createSpinner(\"Fetching connection info...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const d = await client.getDeployment(id);\r\n        spinner.stop();\r\n\r\n        if (d.status !== \"running\") {\r\n          printError(\r\n            `Deployment is ${d.status}. SSH is only available for running instances.`,\r\n          );\r\n          process.exit(1);\r\n        }\r\n\r\n        if (!d.host || !d.port) {\r\n          printError(\"No SSH connection info available for this deployment.\");\r\n          process.exit(1);\r\n        }\r\n\r\n        const sshHost = d.host;\r\n        const sshPort = String(d.port);\r\n        const sshUser = \"root\";\r\n\r\n        printInfo(`Connecting to ${sshUser}@${sshHost}:${sshPort}...`);\r\n\r\n        const child = spawn(\r\n          \"ssh\",\r\n          [\"-o\", \"StrictHostKeyChecking=no\", \"-p\", sshPort, `${sshUser}@${sshHost}`],\r\n          { stdio: \"inherit\" },\r\n        );\r\n\r\n        child.on(\"exit\", (code) => {\r\n          process.exit(code || 0);\r\n        });\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n}\r\n","import { Command } from \"commander\";\r\nimport * as fs from \"node:fs\";\r\nimport * as path from \"node:path\";\r\nimport * as os from \"node:os\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport {\r\n  printTable,\r\n  printJson,\r\n  printSuccess,\r\n  printError,\r\n  printInfo,\r\n} from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { input, confirm } from \"../lib/prompts.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\n\r\nexport function registerSshKeysCommand(program: Command) {\r\n  const sshKeys = program\r\n    .command(\"ssh-keys\")\r\n    .description(\"Manage SSH public keys\");\r\n\r\n  sshKeys\r\n    .command(\"list\")\r\n    .alias(\"ls\")\r\n    .description(\"List your SSH keys\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Fetching SSH keys...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        // SSH keys are typically part of user profile or a dedicated endpoint\r\n        // Use the API keys list as a proxy for now — real implementation depends on backend\r\n        const data = await client.listApiKeys();\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(data);\r\n          return;\r\n        }\r\n\r\n        printInfo(\r\n          \"SSH key management is available in the dashboard: https://polaris.computer/dashboard/settings\",\r\n        );\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  sshKeys\r\n    .command(\"add\")\r\n    .description(\"Add an SSH public key\")\r\n    .option(\"--file <path>\", \"Path to public key file\")\r\n    .option(\"--name <name>\", \"Key name\")\r\n    .action(async (opts) => {\r\n      const json = program.opts().json;\r\n\r\n      let keyContent: string;\r\n      let keyName = opts.name;\r\n\r\n      if (opts.file) {\r\n        const filePath = opts.file.replace(\"~\", os.homedir());\r\n        if (!fs.existsSync(filePath)) {\r\n          printError(`File not found: ${filePath}`);\r\n          process.exit(1);\r\n        }\r\n        keyContent = fs.readFileSync(filePath, \"utf-8\").trim();\r\n      } else {\r\n        // Try common default paths\r\n        const defaultPaths = [\r\n          path.join(os.homedir(), \".ssh\", \"id_ed25519.pub\"),\r\n          path.join(os.homedir(), \".ssh\", \"id_rsa.pub\"),\r\n        ];\r\n\r\n        const found = defaultPaths.find((p) => fs.existsSync(p));\r\n        if (found) {\r\n          printInfo(`Found SSH key: ${found}`);\r\n          const ok = await confirm({\r\n            message: `Use ${path.basename(found)}?`,\r\n            default: true,\r\n          });\r\n          if (ok) {\r\n            keyContent = fs.readFileSync(found, \"utf-8\").trim();\r\n          } else {\r\n            const filePath = await input({\r\n              message: \"Path to public key file:\",\r\n            });\r\n            keyContent = fs\r\n              .readFileSync(filePath.replace(\"~\", os.homedir()), \"utf-8\")\r\n              .trim();\r\n          }\r\n        } else {\r\n          const filePath = await input({\r\n            message: \"Path to public key file:\",\r\n            default: \"~/.ssh/id_ed25519.pub\",\r\n          });\r\n          keyContent = fs\r\n            .readFileSync(filePath.replace(\"~\", os.homedir()), \"utf-8\")\r\n            .trim();\r\n        }\r\n      }\r\n\r\n      if (!keyContent.startsWith(\"ssh-\")) {\r\n        printError(\"Invalid SSH public key format. Key should start with ssh-ed25519, ssh-rsa, etc.\");\r\n        process.exit(1);\r\n      }\r\n\r\n      if (!keyName) {\r\n        keyName = await input({\r\n          message: \"Key name:\",\r\n          default: `cli-${Date.now().toString(36).slice(-4)}`,\r\n        });\r\n      }\r\n\r\n      if (json) {\r\n        printJson({\r\n          success: true,\r\n          message: \"SSH key upload — use the dashboard for full SSH key management\",\r\n          name: keyName,\r\n          key_type: keyContent.split(\" \")[0],\r\n        });\r\n      } else {\r\n        printInfo(\r\n          \"SSH key management coming soon via API. For now, manage keys at:\",\r\n        );\r\n        printInfo(\r\n          chalk.underline(\"https://polaris.computer/dashboard/settings\"),\r\n        );\r\n      }\r\n    });\r\n\r\n  sshKeys\r\n    .command(\"remove <id>\")\r\n    .description(\"Remove an SSH key\")\r\n    .action(async () => {\r\n      printInfo(\r\n        \"SSH key management is available in the dashboard: https://polaris.computer/dashboard/settings\",\r\n      );\r\n    });\r\n}\r\n","import { Command } from \"commander\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport { consumeSSEStream } from \"../lib/streaming.js\";\r\nimport {\r\n  printTable,\r\n  printJson,\r\n  printError,\r\n  printInfo,\r\n} from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { input } from \"../lib/prompts.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\nimport * as readline from \"node:readline\";\r\n\r\nconst AVAILABLE_MODELS = [\r\n  { id: \"llama3.2\", name: \"Llama 3.2 (3B)\", provider: \"ollama\", context: \"128K\" },\r\n  { id: \"llama3.1\", name: \"Llama 3.1 (8B)\", provider: \"ollama\", context: \"128K\" },\r\n  { id: \"llama3.1:70b\", name: \"Llama 3.1 (70B)\", provider: \"ollama\", context: \"128K\" },\r\n  { id: \"mistral\", name: \"Mistral (7B)\", provider: \"ollama\", context: \"32K\" },\r\n  { id: \"mixtral\", name: \"Mixtral 8x7B\", provider: \"ollama\", context: \"32K\" },\r\n  { id: \"codellama\", name: \"Code Llama\", provider: \"ollama\", context: \"16K\" },\r\n  { id: \"deepseek-coder\", name: \"DeepSeek Coder\", provider: \"ollama\", context: \"16K\" },\r\n  { id: \"phi3\", name: \"Phi-3\", provider: \"ollama\", context: \"128K\" },\r\n  { id: \"gemma2\", name: \"Gemma 2\", provider: \"ollama\", context: \"8K\" },\r\n  { id: \"qwen2.5\", name: \"Qwen 2.5\", provider: \"ollama\", context: \"128K\" },\r\n];\r\n\r\nexport function registerAiCommand(program: Command) {\r\n  const ai = program.command(\"ai\").description(\"AI model inference\");\r\n\r\n  ai.command(\"models\")\r\n    .description(\"List available AI models\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n\r\n      if (json) {\r\n        printJson(AVAILABLE_MODELS);\r\n        return;\r\n      }\r\n\r\n      printTable(\r\n        [\"Model ID\", \"Name\", \"Provider\", \"Context\"],\r\n        AVAILABLE_MODELS.map((m) => [m.id, m.name, m.provider, m.context]),\r\n      );\r\n    });\r\n\r\n  ai.command(\"chat [prompt]\")\r\n    .description(\"Chat with an AI model (streaming)\")\r\n    .option(\"--model <model>\", \"Model to use\", \"llama3.2\")\r\n    .option(\"--system <prompt>\", \"System prompt\")\r\n    .action(async (promptArg, opts) => {\r\n      const json = program.opts().json;\r\n\r\n      if (promptArg) {\r\n        // One-shot mode\r\n        await runOneShot(program, promptArg, opts, json);\r\n      } else {\r\n        // Interactive mode\r\n        await runInteractive(program, opts, json);\r\n      }\r\n    });\r\n}\r\n\r\nasync function runOneShot(\r\n  program: Command,\r\n  prompt: string,\r\n  opts: { model: string; system?: string },\r\n  json: boolean,\r\n) {\r\n  const spinner = createSpinner(\"Thinking...\");\r\n  spinner.start();\r\n\r\n  try {\r\n    const client = createClient(program.opts().apiUrl);\r\n    const messages: any[] = [];\r\n\r\n    if (opts.system) {\r\n      messages.push({ role: \"system\", content: opts.system });\r\n    }\r\n    messages.push({ role: \"user\", content: prompt });\r\n\r\n    const res = await client.rawFetch(\"POST\", \"/api/ai/chat\", {\r\n      model: opts.model,\r\n      messages,\r\n      stream: !json,\r\n    });\r\n\r\n    spinner.stop();\r\n\r\n    if (!res.ok) {\r\n      const err = await res.json().catch(() => ({}));\r\n      printError(\r\n        (err as any).detail || `API error: ${res.status}`,\r\n      );\r\n      process.exit(1);\r\n    }\r\n\r\n    if (json) {\r\n      const data = await res.json();\r\n      printJson(data);\r\n      return;\r\n    }\r\n\r\n    // Stream tokens to stdout\r\n    if (res.body) {\r\n      console.log();\r\n      await consumeSSEStream(\r\n        res.body,\r\n        (token) => process.stdout.write(token),\r\n        () => console.log(\"\\n\"),\r\n      );\r\n    }\r\n  } catch (err) {\r\n    spinner.stop();\r\n    printError(\r\n      err instanceof PolarisApiError\r\n        ? err.toUserMessage()\r\n        : String(err),\r\n    );\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\nasync function runInteractive(\r\n  program: Command,\r\n  opts: { model: string; system?: string },\r\n  json: boolean,\r\n) {\r\n  console.log(\r\n    chalk.hex(\"#2D5A47\").bold(`\\n  Polaris AI Chat`) +\r\n      chalk.dim(` (${opts.model})`),\r\n  );\r\n  console.log(chalk.dim(\"  Type /quit to exit\\n\"));\r\n\r\n  const messages: any[] = [];\r\n\r\n  if (opts.system) {\r\n    messages.push({ role: \"system\", content: opts.system });\r\n  }\r\n\r\n  const rl = readline.createInterface({\r\n    input: process.stdin,\r\n    output: process.stdout,\r\n  });\r\n\r\n  const askQuestion = (): Promise<string> =>\r\n    new Promise((resolve) => {\r\n      rl.question(chalk.hex(\"#4A7C59\")(\"you > \"), (answer) => {\r\n        resolve(answer);\r\n      });\r\n    });\r\n\r\n  while (true) {\r\n    const userInput = await askQuestion();\r\n\r\n    if (!userInput.trim()) continue;\r\n    if (userInput.trim() === \"/quit\" || userInput.trim() === \"/exit\") {\r\n      console.log(chalk.dim(\"\\nGoodbye!\"));\r\n      rl.close();\r\n      break;\r\n    }\r\n\r\n    messages.push({ role: \"user\", content: userInput });\r\n\r\n    try {\r\n      const client = createClient(program.opts().apiUrl);\r\n      const res = await client.rawFetch(\"POST\", \"/api/ai/chat\", {\r\n        model: opts.model,\r\n        messages,\r\n        stream: true,\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const err = await res.json().catch(() => ({}));\r\n        printError(\r\n          (err as any).detail || `API error: ${res.status}`,\r\n        );\r\n        continue;\r\n      }\r\n\r\n      process.stdout.write(chalk.hex(\"#2D5A47\")(\"ai > \"));\r\n\r\n      let fullResponse = \"\";\r\n      if (res.body) {\r\n        fullResponse = await consumeSSEStream(\r\n          res.body,\r\n          (token) => process.stdout.write(token),\r\n          () => console.log(\"\\n\"),\r\n        );\r\n      }\r\n\r\n      messages.push({ role: \"assistant\", content: fullResponse });\r\n    } catch (err) {\r\n      printError(\r\n        err instanceof PolarisApiError\r\n          ? err.toUserMessage()\r\n          : String(err),\r\n      );\r\n    }\r\n  }\r\n}\r\n","/**\r\n * SSE stream consumer for AI chat responses.\r\n * Reads a ReadableStream and writes tokens to stdout in real-time.\r\n */\r\nexport async function consumeSSEStream(\r\n  body: ReadableStream<Uint8Array>,\r\n  onToken: (token: string) => void,\r\n  onDone?: () => void,\r\n): Promise<string> {\r\n  const reader = body.getReader();\r\n  const decoder = new TextDecoder();\r\n  let fullText = \"\";\r\n  let buffer = \"\";\r\n\r\n  while (true) {\r\n    const { done, value } = await reader.read();\r\n    if (done) break;\r\n\r\n    buffer += decoder.decode(value, { stream: true });\r\n\r\n    // Process SSE events\r\n    const lines = buffer.split(\"\\n\");\r\n    buffer = lines.pop() || \"\";\r\n\r\n    for (const line of lines) {\r\n      if (line.startsWith(\"data: \")) {\r\n        const data = line.slice(6);\r\n        if (data === \"[DONE]\") {\r\n          onDone?.();\r\n          return fullText;\r\n        }\r\n\r\n        try {\r\n          const parsed = JSON.parse(data);\r\n          const content =\r\n            parsed.choices?.[0]?.delta?.content ||\r\n            parsed.choices?.[0]?.text ||\r\n            parsed.content ||\r\n            parsed.token ||\r\n            \"\";\r\n          if (content) {\r\n            fullText += content;\r\n            onToken(content);\r\n          }\r\n        } catch {\r\n          // Not JSON — might be plain text token\r\n          if (data.trim()) {\r\n            fullText += data;\r\n            onToken(data);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onDone?.();\r\n  return fullText;\r\n}\r\n","import { Command } from \"commander\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport {\r\n  printTable,\r\n  printJson,\r\n  printKeyValue,\r\n  printSuccess,\r\n  printError,\r\n  printInfo,\r\n} from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { select, input, confirm } from \"../lib/prompts.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\n\r\nexport function registerDbCommand(program: Command) {\r\n  const db = program\r\n    .command(\"db\")\r\n    .description(\"Manage databases\");\r\n\r\n  db.command(\"list\")\r\n    .alias(\"ls\")\r\n    .description(\"List your databases\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Fetching databases...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const data = await client.getUserStorage();\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(data);\r\n          return;\r\n        }\r\n\r\n        printInfo(\r\n          \"Managed databases coming soon. Storage volumes are available now.\",\r\n        );\r\n        if (data.volumes && data.volumes.length > 0) {\r\n          printTable(\r\n            [\"ID\", \"Bucket\", \"Size\", \"Created\"],\r\n            data.volumes.map((v: any) => [\r\n              v.id?.slice(0, 8) || \"—\",\r\n              v.bucket_name,\r\n              formatBytes(v.size_bytes || 0),\r\n              v.created_at ? new Date(v.created_at).toLocaleDateString() : \"—\",\r\n            ]),\r\n          );\r\n        }\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  db.command(\"create\")\r\n    .description(\"Create a new database\")\r\n    .option(\"--engine <engine>\", \"Database engine (pg, redis, mongodb)\")\r\n    .option(\"--name <name>\", \"Database name\")\r\n    .option(\"--region <region>\", \"Region\", \"lagos\")\r\n    .action(async (opts) => {\r\n      const json = program.opts().json;\r\n\r\n      const engine =\r\n        opts.engine ||\r\n        (await select({\r\n          message: \"Database engine:\",\r\n          choices: [\r\n            { name: \"PostgreSQL\", value: \"pg\" },\r\n            { name: \"Redis\", value: \"redis\" },\r\n            { name: \"MongoDB\", value: \"mongodb\" },\r\n          ],\r\n        }));\r\n\r\n      const name =\r\n        opts.name ||\r\n        (await input({\r\n          message: \"Database name:\",\r\n          default: `${engine}-${Date.now().toString(36).slice(-4)}`,\r\n        }));\r\n\r\n      if (json) {\r\n        printJson({\r\n          message: \"Managed databases coming soon\",\r\n          engine,\r\n          name,\r\n          region: opts.region,\r\n        });\r\n      } else {\r\n        printInfo(\"Managed databases are coming soon.\");\r\n        printInfo(\r\n          \"Track progress at: https://polaris.computer/dashboard\",\r\n        );\r\n      }\r\n    });\r\n\r\n  db.command(\"delete <id>\")\r\n    .description(\"Delete a database\")\r\n    .option(\"-y, --yes\", \"Skip confirmation\")\r\n    .action(async (id, opts) => {\r\n      if (!opts.yes) {\r\n        const ok = await confirm({\r\n          message: `Delete database ${id}? This cannot be undone.`,\r\n          default: false,\r\n        });\r\n        if (!ok) {\r\n          printInfo(\"Cancelled.\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      printInfo(\"Managed database deletion coming soon.\");\r\n    });\r\n\r\n  db.command(\"connect <id>\")\r\n    .description(\"Get connection string for a database\")\r\n    .action(async (id) => {\r\n      printInfo(\"Managed databases coming soon.\");\r\n    });\r\n}\r\n\r\nfunction formatBytes(bytes: number): string {\r\n  if (bytes === 0) return \"0 B\";\r\n  const units = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\r\n  return `${(bytes / Math.pow(1024, i)).toFixed(1)} ${units[i]}`;\r\n}\r\n","import { Command } from \"commander\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport {\r\n  printTable,\r\n  printJson,\r\n  printSuccess,\r\n  printError,\r\n  printInfo,\r\n} from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { input, confirm, select } from \"../lib/prompts.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\n\r\nexport function registerStorageCommand(program: Command) {\r\n  const storage = program\r\n    .command(\"storage\")\r\n    .description(\"Manage storage buckets\");\r\n\r\n  storage\r\n    .command(\"list\")\r\n    .alias(\"ls\")\r\n    .description(\"List your storage volumes\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Fetching storage...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const data = await client.getUserStorage();\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(data);\r\n          return;\r\n        }\r\n\r\n        if (!data.volumes || data.volumes.length === 0) {\r\n          printInfo(\"No storage volumes found.\");\r\n          printInfo(\"Create one with: polaris storage create\");\r\n          return;\r\n        }\r\n\r\n        printTable(\r\n          [\"Bucket\", \"Provider\", \"Size\", \"Created\"],\r\n          data.volumes.map((v: any) => [\r\n            v.bucket_name,\r\n            v.provider || \"storj\",\r\n            formatBytes(v.size_bytes || 0),\r\n            v.created_at ? new Date(v.created_at).toLocaleDateString() : \"—\",\r\n          ]),\r\n        );\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  storage\r\n    .command(\"create\")\r\n    .description(\"Create a new storage bucket\")\r\n    .option(\"--name <name>\", \"Bucket name\")\r\n    .option(\"--region <region>\", \"Region\", \"lagos\")\r\n    .option(\"--access <access>\", \"Access level (private, public-read)\")\r\n    .action(async (opts) => {\r\n      const json = program.opts().json;\r\n\r\n      const name =\r\n        opts.name ||\r\n        (await input({\r\n          message: \"Bucket name:\",\r\n          validate: (v) =>\r\n            /^[a-z0-9][a-z0-9.-]+$/.test(v) || \"Lowercase letters, numbers, dots, hyphens\",\r\n        }));\r\n\r\n      const access =\r\n        opts.access ||\r\n        (await select({\r\n          message: \"Access level:\",\r\n          choices: [\r\n            { name: \"Private (default)\", value: \"private\" },\r\n            { name: \"Public read\", value: \"public-read\" },\r\n          ],\r\n        }));\r\n\r\n      if (json) {\r\n        printJson({ message: \"Storage creation via CLI coming soon\", name, access });\r\n      } else {\r\n        printInfo(\"Storage bucket creation via CLI is coming soon.\");\r\n        printInfo(\r\n          \"Manage storage at: https://polaris.computer/dashboard\",\r\n        );\r\n      }\r\n    });\r\n\r\n  storage\r\n    .command(\"delete <name>\")\r\n    .description(\"Delete a storage bucket\")\r\n    .option(\"-y, --yes\", \"Skip confirmation\")\r\n    .action(async (name, opts) => {\r\n      if (!opts.yes) {\r\n        const ok = await confirm({\r\n          message: `Delete bucket \"${name}\"? This cannot be undone.`,\r\n          default: false,\r\n        });\r\n        if (!ok) {\r\n          printInfo(\"Cancelled.\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      printInfo(\"Storage deletion via CLI is coming soon.\");\r\n    });\r\n}\r\n\r\nfunction formatBytes(bytes: number): string {\r\n  if (bytes === 0) return \"0 B\";\r\n  const units = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\r\n  return `${(bytes / Math.pow(1024, i)).toFixed(1)} ${units[i]}`;\r\n}\r\n","import { Command } from \"commander\";\r\nimport chalk from \"chalk\";\r\nimport { createClient } from \"../lib/api-client.js\";\r\nimport {\r\n  printTable,\r\n  printJson,\r\n  printKeyValue,\r\n  printSuccess,\r\n  printError,\r\n  printInfo,\r\n} from \"../lib/output.js\";\r\nimport { createSpinner } from \"../lib/spinner.js\";\r\nimport { PolarisApiError } from \"../lib/errors.js\";\r\n\r\nexport function registerBillingCommand(program: Command) {\r\n  const billing = program\r\n    .command(\"billing\")\r\n    .description(\"Billing and subscription info\");\r\n\r\n  billing\r\n    .command(\"plans\")\r\n    .description(\"List subscription plans\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n\r\n      const plans = [\r\n        {\r\n          name: \"Free\",\r\n          price: \"$0/mo\",\r\n          compute: \"30 min\",\r\n          storage: \"—\",\r\n          api_keys: \"3\",\r\n        },\r\n        {\r\n          name: \"Basic\",\r\n          price: \"$10/mo\",\r\n          compute: \"300 min\",\r\n          storage: \"10 GB\",\r\n          api_keys: \"10\",\r\n        },\r\n        {\r\n          name: \"Premium\",\r\n          price: \"$20/mo\",\r\n          compute: \"1000 min\",\r\n          storage: \"100 GB\",\r\n          api_keys: \"25\",\r\n        },\r\n      ];\r\n\r\n      if (json) {\r\n        printJson(plans);\r\n        return;\r\n      }\r\n\r\n      printTable(\r\n        [\"Plan\", \"Price\", \"Compute\", \"Storage\", \"API Keys\"],\r\n        plans.map((p) => [p.name, p.price, p.compute, p.storage, p.api_keys]),\r\n      );\r\n\r\n      console.log(\r\n        chalk.dim(\"\\n  Upgrade at: https://polaris.computer/pricing\\n\"),\r\n      );\r\n    });\r\n\r\n  billing\r\n    .command(\"status\")\r\n    .description(\"Show your current subscription\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Fetching billing info...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const stats = await client.getStats();\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(stats);\r\n          return;\r\n        }\r\n\r\n        console.log();\r\n        printKeyValue({\r\n          Plan: stats.tier.charAt(0).toUpperCase() + stats.tier.slice(1),\r\n          \"Compute Used\": `${stats.compute_minutes_used} / ${stats.compute_minutes_limit} min`,\r\n          \"Storage Used\": `${formatBytes(stats.storage_bytes_used)} / ${formatBytes(stats.storage_bytes_limit)}`,\r\n          \"Active Deployments\": String(stats.active_deployments),\r\n          \"API Keys\": String(stats.api_keys_count),\r\n        });\r\n        console.log();\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\n  billing\r\n    .command(\"transactions\")\r\n    .description(\"View payment history\")\r\n    .action(async () => {\r\n      const json = program.opts().json;\r\n      const spinner = createSpinner(\"Fetching transactions...\");\r\n      spinner.start();\r\n\r\n      try {\r\n        const client = createClient(program.opts().apiUrl);\r\n        const usage = await client.getUsage();\r\n        spinner.stop();\r\n\r\n        if (json) {\r\n          printJson(usage);\r\n          return;\r\n        }\r\n\r\n        console.log();\r\n        printKeyValue({\r\n          \"Total Requests\": String(usage.total_requests),\r\n          \"This Month\": String(usage.this_month),\r\n          \"Last Month\": String(usage.last_month),\r\n        });\r\n\r\n        if (usage.key_usage && usage.key_usage.length > 0) {\r\n          console.log(chalk.dim(\"\\n  Usage by API key:\\n\"));\r\n          printTable(\r\n            [\"Key\", \"Requests\", \"Last Used\"],\r\n            usage.key_usage.map((k) => [\r\n              k.name,\r\n              String(k.total_requests),\r\n              k.last_used\r\n                ? new Date(k.last_used).toLocaleDateString()\r\n                : \"Never\",\r\n            ]),\r\n          );\r\n        }\r\n      } catch (err) {\r\n        spinner.stop();\r\n        printError(\r\n          err instanceof PolarisApiError\r\n            ? err.toUserMessage()\r\n            : String(err),\r\n        );\r\n        process.exit(1);\r\n      }\r\n    });\r\n}\r\n\r\nfunction formatBytes(bytes: number): string {\r\n  if (bytes === 0) return \"0 B\";\r\n  const units = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\r\n  return `${(bytes / Math.pow(1024, i)).toFixed(1)} ${units[i]}`;\r\n}\r\n"],"mappings":"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","names":["chalk","import_chalk","path","import_chalk","chalk","chalk","Table","ora","program","chalk","import_chalk","program","chalk","program","import_chalk","program","chalk","import_chalk","import_prompts","program","chalk","import_chalk","chalk","program","fs","path","os","import_chalk","program","chalk","import_chalk","program","chalk","program","program","formatBytes","import_chalk","program","chalk","formatBytes"]}